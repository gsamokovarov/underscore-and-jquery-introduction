<!DOCTYPE html>
<html lang=en>
  <head>
    <meta charset=utf-8>

    <title>Introduction to Underscore and jQuery</title>

    <meta name=description content="Въведение в Underscore и jQuery.">
    <meta name=author content="Генади Самоковаров">

    <link rel=stylesheet href="vendor/reveal.js/css/reveal.css">
    <link rel=stylesheet href="vendor/reveal.js/css/theme/simple.css">
    <link rel=stylesheet href="vendor/reveal.js/lib/css/zenburn.css">

    <style>
      .reveal,
      .reveal h1,
      .reveal h2,
      .reveal h3,
      .reveal h4,
      .reveal h5,
      .reveal h6 { font-family: Palatino, Georgia, serif; }

      .reveal h1 { font-size: 2.2em; text-shadow: none; }
      .reveal h2 { font-size: 1.9em; }
      .reveal h3 { font-size: 1.8em; }
      .reveal h4 { font-size: 1.5em; }
      .reveal h5 { font-size: 1.2em; }

      .reveal img.inline { background: transparent; border: 0; box-shadow: none; margin: 0; vertical-align: middle; }

      .reveal .hidden { visibility: hidden; }

      .reveal .spin:hover { -moz-animation: spin 2s infinite linear; -o-animation: spin 2s infinite linear; -webkit-animation: spin 2s infinite linear; animation: spin 2s infinite linear; }

      @-moz-keyframes spin {
        0%   { -moz-transform: rotate(0deg); }
        100% { -moz-transform: rotate(359deg); }
      }
      @-webkit-keyframes spin {
        0%   { -webkit-transform: rotate(0deg); }
        100% { -webkit-transform: rotate(359deg); }
      }
      @-o-keyframes spin {
        0%   { -o-transform: rotate(0deg); }
        100% { -o-transform: rotate(359deg); }
      }
      @-ms-keyframes spin {
        0%   { -ms-transform: rotate(0deg); }
        100% { -ms-transform: rotate(359deg); }
      }
      @keyframes spin {
        0%   { transform: rotate(0deg); }
        100% { transform: rotate(359deg); }
      }
    </style>
  </head>
  <body>
    <div class=reveal>
      <div class=slides>
        <section>
          <h1>Въведение в Underscore и jQuery</h1>
          <p><small><a href=https://github.com/gsamokovarov>Генади Самоковаров</a> / <a href=https://twitter.com/gsamokovarov>@gsamokovarov</a></small></p>
        </section>

        <section>
          <h1>Генади Самоковаров</h1>
          <p align=center><img class="inline spin" src=img/me.png></p>
          <ul>
            <li>Работя за <a href=http://www.vmware.com>VMware</a></li>
            <li>... и за <a href=https://github.com/gsamokovarov>себе си</a> ☺</li>
          </ul>
        </section>

        <section>
          <h1>Днес</h1>
          <br>
          <p>За какво ще си говорим днес:</p>
          <br>
          <ul>
            <li>Често срещани пробеми в JavaScript</li>
            <li><a href=http://underscorejs.org>Underscore</a> и как ги решава</li>
            <li><a href=http://jquery.com/>jQuery</a> и обхождане на DOM</li>
          </ul>
        </section>

        <section>
          <section>
            <h1>Пробеми в JavaScript</h1>
            <p align=center><img src=img/the-good-parts-vs-the-definitive-guide.jpg title="Все още е смешно ☺"></p>
          </section>

          <section>
            <h1>Любимата ми тема</h1>
            <p class=fragment>Не че нещо,</p>
            <p class=fragment>но JavaScript има характер.</p>
            <p class=fragment>Въпреки това, е чаровен.</p>
            <div class=fragment>
              <p>Научете се да го обичате.</p>
              <p align=center><img class=inline src=img/lips.png title="Муц!"></p>
            </div>
          </section>

          <section>
            <h1>Лирично отклонение</h1>
            <br>
            <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="603" height="540" title="И това още е смешно ☺">
              <param name="movie" value="http://i47.vbox7.com/player/ext.swf?vid=22f0243e">
              <param name="quality" value="high">
              <embed src="http://i48.vbox7.com/player/ext.swf?vid=22f0243e" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" width="603" height="540">
            </object>
          </section>

          <section>
            <h1>typeof</h1>
            <p class=fragment>Как да разберем дали нещо е <strong>Array</strong>?</p>
            <div class=fragment>
              <pre><code>&gt; typeof []
'object'</code></pre>
            </div>
            <p class=fragment>A дали е <strong>RegExp</strong>?</p>
            <div class=fragment>
              <pre><code>&gt; typeof /./
'object'</code></pre>
            </div>
            <p class=fragment>Дори <strong>null</strong>?</p>
            <div class=fragment>
              <pre><code>&gt; typeof null
'object'</code></pre>
            </div>
          </section>

          <section>
            <h1>instanceof</h1>
            <p class=fragment>Накратко &mdash; горе&ndash;долу</p>
            <div class=fragment>
              <pre><code>&gt; ([]) instanceof Array
true</code></pre>
            <div class=fragment>
              <pre><code>&gt; (/./) instanceof RegExp
true</code></pre>
            <div class=fragment>
              <pre><code>&gt; null instanceof Object
false</code></pre>
            </div>
          </section>

          <section>
            <h1>Опа</h1>
            <p class=fragment>Чупи се при <strong>null</strong>,</p>
            <p class=fragment>но не това е по-голямото зло.</p>
          </section>

          <section>
            <h1>Надълго</h1>
          </section>

          <section data-transition=none>
            <p align=center><img class=inline src=img/instanceof-1.png></p>
          </section>

          <section data-transition=none>
            <p align=center><img class=inline src=img/instanceof-2.png></p>
          </section>

          <section data-transition=none>
            <p align=center><img class=inline src=img/instanceof-3.png></p>
          </section>

          <section data-transition=none>
            <p align=center><img class=inline src=img/instanceof-4.png></p>
          </section>

          <section>
            <h1>Нагледно</h1>
            <pre><code>document.body.appendChild(document.createElement('iframe'));
OtherArray = window.frames[window.frames.length - 1].Array;
var array = new OtherArray(1, 2, 3);

array instanceof Array;      // false
array.constructor === Array; // false

Array === OtherArray;        // false</code></pre>
          </section>

          <section>
            <h1 title="Тук не става на въпрос за ракия, очевидно.">Домашно</h1>
            <p>Доста добро четиво по въпроса, може да намерите <a href=http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray>тук</a>.</p>
          </section>

          <section>
            <h1>Препоръчвам</h1>
            <pre><code>&gt; {}.toString.call([]) === '[object Array]'
true
&gt; {}.toString.call(/./) === '[object RegExp]'
true
&gt; {}.toString.call(null) === '[object Null]'
true
</code></pre>
          </section>

          <section>
            <h1>null</h1>
            <p class=fragment>За сравнение на стойност с <strong>null</strong></p>
            <div class=fragment>
              <pre><code>value == null
true</code></pre>
            </div>
            <ul>
              <li class=fragment>По-бързо</li>
              <li class=fragment>Хваща <strong>undefined</strong></li>
            </ul>
            <p class=fragment><strong>Единствената</strong> смислена употреба на <code>==</code></p>
          </section>

          <section>
            <h1>void</h1>
            <p class=fragment>Унарен оператор, който връща <strong>undefined</strong> за всичко, което му дадем отдясно.</p>
            <div class=fragment>
              <pre><code>void 0 === undefined
true</code></pre>
            </div>
            <ul>
              <li class=fragment>По-бързо от <strong>тypeof</strong></li>
              <li class=fragment>Портабилно</li>
            </ul>
          </section>

          <section>
            <h1>Closure в итерация</h1>
            <p>Какво ще направи следният код?<p>
            <pre><code>var i, link;
for (i = 0; i &lt; 5; i++) {
  link = document.createElement('a');
  link.innerHTML = 'Link: ' + i;
  link.onclick = function() {
    alert(i);
  };
  document.body.appendChild(link);
}</code></pre>
          </section>

          <section>
            <h1>Опа</h1>
            <p class=fragment>Как да го оправим?<p>
            <div class=fragment>
              <pre><code>var i, link;
for (i = 5; i &lt; 10; i++) {
  link = document.createElement('a');
  link.innerHTML = 'Link: ' + i;
  link.onclick = (function(i) {
    return function() {
      alert(i);
    }
  })(i);
  document.body.appendChild(link);
}</code></pre>
            </div>
          </section>

          <section>
            <h1>Невинен</h1>
            <p class=fragment>Тук, JavaScript, е невинен!<p>
            <p class=fragment>Това е проблем при повечето динамични езици.<p>
            <p class=fragment>Среща се, поне, при:<p>
            <ul>
              <li class=fragment>ActionScript</li>
              <li class=fragment>Python</li>
              <li class=fragment>PHP</li>
              <li class=fragment>дори и Ruby</li>
            </ul>
            <p class=fragment>Внимавайте, къде и <strong>как</strong> правите анонимни фунцкии!<p>
          </section>

          <section>
            <h1>arguments</h1>
            <p class=fragment>Искам да именувам <em>първият</em> от аргументите си като останалите да са вариадични.</p>
            <div class=fragment>
              <pre><code>var sum = function(first) {
  var rest = arguments.slice(1);
  var result = first;
  for (var i = 0, len = rest.length; i &lt; len; i++) {
    result += rest[i];
  }
  return result;
};

sum(1, 2, 3);</code></pre>
            </div>

            <div class=fragment>
              <pre><code>TypeError: Object #&lt;Object&gt; has no method 'slice'</code></pre>
            </div>
          </section>

          <section>
            <h1>arguments</h1>
            <p>Това е интересно, нека видим какво става.</p>
            <div class=fragment>
              <pre><code>(function() {
  console.log(typeof arguments);           // object
  console.log(arguments instanceof Array); // false
})();</code></pre>
            </div>
            <p class=fragment><strong>arguments</strong> не е <strong>Array</strong>, въпреки че изглежда като такъв.</p>
          </section>

          <section>
            <h1>arguments</h1>
            <p>Как да го излъжем?</p>
            <div class=fragment>
              <pre><code>var sum = function(first) {
  var rest = [].slice.call(arguments, 1);
  var result = first;
  for (var i = 0, len = rest.length; i &lt; len; i++) {
    result += rest[i];
  }
  return result;
};

sum(1, 2, 3);</code></pre>
            </div>

            <div class=fragment>
              <pre><code>6</code></pre>
            </div>
          </section>

          <section>
            <p align=center><img src=img/arguments-success.jpg></p>
            <p class=fragment>Всъщност, това работи и за други <strong>Array</strong> подобни обекти.</p>
            <div class=fragment>
              <pre><code>var fragments = document.querySelectorAll('.fragment');
console.log(fragments instanceof Array);                // false
console.log([].slice.call(fragments) instanceof Array); // true</code></pre>
            </div>
          </section>

          <section>
            <h1>Oще</h1>
            <p>Проблеми има колкото искаш.</p>
            <p class=fragment align=center><img class=inline src=img/the-good-parts.jpg></p>
          </section>
        </section>

        <section>
          <section>
            <h1>Underscore</h1>
            <blockquote>Underscore is a utility-belt library for JavaScript that provides a lot of the functional programming support that you would expect in Prototype.js (or Ruby), but without extending any of the built-in JavaScript objects.</blockquote>
          </section>

          <section>
            <h1>Категории</h1>
            <p>Функциите, предоставени от <strong>Underscore</strong> са групирани в следните категории:</p>
            <ul>
              <li class=fragment>Обекти</li>
              <li class=fragment>Колекции</li>
              <li class=fragment>Масиви</li>
              <li class=fragment>Функции</li>
              <li class=fragment>Общи</li>
              <li class=fragment>Chaining</li>
            </ul>
          </section>

          <section>
            <h1>Обекти</h1>
            <p>Ще започнем с функциите за работа с обекти.</p>
          </section>

          <section>
            <h1>Предикати</h1>
            <p class=fragment>Сещате се за проблемите с <stong>typeof</strong> и <strong>instanceof</strong>?</p>
            <ul class=fragment>
              <li>_.isArray</li>
              <li>_.isObject</li>
              <li>_.isArguments</li>
              <li>_.isFunction</li>
              <li>_.isString</li>
              <li>_.isNumber</li>
              <li>_.isFinite</li>
              <li>_.isBoolean</li>
              <li>_.isDate</li>
              <li>_.isRegExp</li>
              <li>_.isNaN</li>
              <li>_.isNull</li>
              <li>_.isUndefined</li>
            </ul>
          </section>

          <section>
            <h1>Показно</h1>
            <pre><code>console.log(_.isArray([]));             // true
console.log(_.isObject([]));            // true
console.log(_.isRegExp(/./));           // true
console.log(_.isBoolean(new Boolean));  // true
console.log(_.isDate(new Date));        // true
console.log(_.isNull(void 0));          // false
console.log(_.isUndefined(void 0));     // true
console.log(_.isNaN(NaN));              // true
            </code></pre>
          </section>

          <section>
            <h1>Oще</h1>
            <p>За още информация последвайте следните връзки.</p>
            <ul>
              <li><a href=http://underscorejs.org>Документация</a></li>
              <li><a href=http://underscorejs.org/docs/underscore.html>Анотиран код</a></li>
              <li><a href=http://lodash.com/>Lo-Dash</a></li>
            </ul>
            <p class=fragment align=center><img class=inline src=img/the-good-parts.jpg></p>
          </section>
        </section>
      </div>
    </div>

    <script src=vendor/reveal.js/lib/js/head.min.js></script>
    <script src=vendor/reveal.js/js/reveal.js></script>

    <script>
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        rollingLinks: true,
        transition: 'default',
        dependencies: [
          {
            src: 'vendor/reveal.js/plugin/highlight/highlight.js',
            async: true,
            callback: function() {
              hljs.initHighlightingOnLoad();
            }
          }
        ]
      });
    </script>
  </body>
</html>
